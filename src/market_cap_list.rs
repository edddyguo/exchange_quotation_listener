use crate::constant::{BNB_API_KEY, RECV_WINDOW};
use crate::utils::hmac_sha256_sign;
use crate::{get_unix_timestamp_ms, try_get};
use reqwest::header::{HeaderMap, HeaderName, HeaderValue, CONTENT_TYPE};
///获取u本位账号基本信息（可用余额）
///
///
/// curl -H "X-CMC_PRO_API_KEY: 92e6f509-4ef9-4ee1-8e54-4e3a732df2e9" -H "Accept: application/json"  -d "limit=150" -G https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest|jq|grep symbol//use serde_derive::Deserialize;
//use serde_derive::Serialize;
use serde::{Deserialize, Serialize};
use std::ops::Deref;

use std::collections::HashMap;

lazy_static! {
    pub static ref MY_MAP: HashMap<&'static str, Vec<&'static str>> = {
        let mut map = HashMap::new();
        map.insert("2022-01", vec![
            "1INCH",
            "BTC",
"ETH",
"BNB",
"USDT",
"SOL",
"ADA",
"XRP",
"USDC",
"LUNA",
"DOT",
"AVAX",
"DOGE",
"SHIB",
"MATIC",
"CRO",
"BUSD",
"WBTC",
"UNI",
"LTC",
"LINK",
"ALGO",
"UST",
"NEAR",
"DAI",
"BCH",
"TRX",
"ATOM",
"XLM",
"MANA",
"AXS",
"SAND",
"VET",
"FTM",
"FTT",
"HBAR",
"THETA",
"BTCB",
"FIL",
"EGLD",
"ICP",
"ETC",
"XTZ",
"HNT",
"XMR",
"MIOTA",
"AAVE",
"GALA",
"KLAY",
"GRT",
"LEO",
"EOS",
"CAKE",
"LRC",
"ONE",
"STX",
"FLOW",
"BTT",
"KSM",
"ENJ",
"MKR",
"KDA",
"CRV",
"BSV",
"QNT",
"XEC",
"ZEC",
"AMP",
"NEO",
"AR",
"BAT",
"RUNE",
"CHZ",
"CELO",
"OKB",
"KCS",
"WAVES",
"DASH",
"HT",
"HOT",
"COMP",
"NEXO",
"IOTX",
"TUSD",
"ROSE",
"MINA",
"XEM",
"TFUEL",
"YFI",
"DCR",
"ICX",
"RVN",
"XDC",
"SUSHI",
"QTUM",
"AUDIO",
"OMG",
"USDP",
"WAXP",
"BORA",
"SCRT",
"ZIL",
"ANKR",
"LPT",
"CEL",
"VGX",
"ELON",
"IMX",
"NFT",
"REV",
"RENBTC",
"ZEN",
"BNT",
"SC",
"TEL",
"BTG",
"ZRX",
"STORJ",
"VLX",
"SNX",
"GNO",
"PERP",
"HIVE",
"CKB",
"IOST",
"UMA",
"ONT",
"REN",
"SKL",
"CHSB",
"DYDX",
"RAY",
"KAVA",
"OCEAN",
"DGB",
"NU",
"WOO",
"FLUX",
"SRM",
"USDN",
"CELR",
"GT",
"XNO",
"CEEK",
"SYS",
"GLM",
"POLY",
"WIN",
"MOVR",
"XYO"]);
        map.insert("2022-02", vec![
                        "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"ADA",
"SOL",
"XRP",
"LUNA",
"DOGE",
"DOT",
"AVAX",
"BUSD",
"MATIC",
"SHIB",
"UST",
"CRO",
"WBTC",
"DAI",
"LINK",
"ATOM",
"LTC",
"UNI",
"NEAR",
"ALGO",
"TRX",
"FTT",
"BCH",
"FTM",
"XLM",
"MANA",
"BTCB",
"HBAR",
"ICP",
"SAND",
"LEO",
"VET",
"ETC",
"AXS",
"HNT",
"KLAY",
"FIL",
"EGLD",
"THETA",
"XTZ",
"XMR",
"EOS",
"MIOTA",
"FLOW",
"ONE",
"AAVE",
"BTT",
"MKR",
"CAKE",
"STX",
"GRT",
"BSV",
"ENJ",
"TUSD",
"CRV",
"XEC",
"HT",
"KCS",
"NEO",
"KSM",
"LRC",
"RUNE",
"GALA",
"CVX",
"ZEC",
"OKB",
"AMP",
"BAT",
"AR",
"CELO",
"QNT",
"ROSE",
"CHZ",
"NEXO",
"WAVES",
"KDA",
"XYM",
"DASH",
"TFUEL",
"USDP",
"XEM",
"BORA",
"YFI",
"DCR",
"MINA",
"SCRT",
"HOT",
"COMP",
"XDC",
"IOTX",
"RVN",
"OMG",
"RENBTC",
"ANKR",
"WAXP",
"RNDR",
"CEL",
"SPELL",
"SNX",
"BNT",
"QTUM",
"CHSB",
"LPT",
"NFT",
"VLX",
"ZIL",
"RLY",
"GT",
"ICX",
"SUSHI",
"GNO",
"BTG",
"USDN",
"WOO",
"SC",
"VGX",
"IMX",
"ZEN",
"ELON",
"PERP",
"KAVA",
"SYS",
"ZRX",
"AUDIO",
"IOST",
"TEL",
"REV",
"GLMR",
"STORJ",
"CKB",
"FEI",
"ONT",
"PEOPLE",
"UMA",
"ENS",
"DYDX",
"SOS",
"ILV",
"HIVE",
"SKL",
"OCEAN",
"PAXG",
"FXS",
"FLUX"
        ]);
        map.insert("2022-03", vec![
                        "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"ADA",
"LUNA",
"SOL",
"AVAX",
"BUSD",
"DOT",
"DOGE",
"UST",
"SHIB",
"MATIC",
"CRO",
"WBTC",
"DAI",
"ATOM",
"LTC",
"UNI",
"LINK",
"TRX",
"BCH",
"FTT",
"LEO",
"NEAR",
"ALGO",
"MANA",
"XLM",
"HBAR",
"FTM",
"BTCB",
"ETC",
"ICP",
"FIL",
"SAND",
"KLAY",
"EGLD",
"AXS",
"VET",
"THETA",
"XTZ",
"XMR",
"HNT",
"EOS",
"MIOTA",
"FLOW",
"AAVE",
"MKR",
"BTT",
"CAKE",
"ONE",
"GALA",
"GRT",
"BSV",
"KCS",
"TUSD",
"STX",
"HT",
"ZEC",
"NEO",
"XEC",
"QNT",
"WAVES",
"ENJ",
"RUNE",
"AMP",
"NEXO",
"KDA",
"OKB",
"CHZ",
"BAT",
"KSM",
"CRV",
"LRC",
"AR",
"CELO",
"USDP",
"ANC",
"DASH",
"CVX",
"XEM",
"TFUEL",
"SCRT",
"BORA",
"XYM",
"MINA",
"DCR",
"ROSE",
"YFI",
"HOT",
"COMP",
"CEL",
"IOTX",
"XDC",
"GNO",
"RVN",
"QTUM",
"BNT",
"WAXP",
"RENBTC",
"RLY",
"OMG",
"PAXG",
"ANKR",
"BTG",
"VLX",
"RNDR",
"LPT",
"KEEP",
"GT",
"ZIL",
"CHSB",
"USDN",
"ICX",
"GLM",
"KAVA",
"NFT",
"ONT",
"VGX",
"AUDIO",
"ZRX",
"SC",
"GLMR",
"SNX",
"IOST",
"FEI",
"ELON",
"REV",
"SUSHI",
"WOO",
"ZEN",
"NU",
"SKL",
"STORJ",
"SYS",
"HIVE",
"POLY",
"ILV",
"SPELL",
"KNC",
"FXS",
"DYDX",
"PERP",
"UOS",
"IMX",
"CKB"
        ]);
        map.insert("2022-04", vec![
                        "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"ADA",
"SOL",
"LUNA",
"AVAX",
"DOT",
"DOGE",
"BUSD",
"UST",
"SHIB",
"MATIC",
"WBTC",
"CRO",
"DAI",
"LTC",
"NEAR",
"ATOM",
"LINK",
"UNI",
"BCH",
"FTT",
"TRX",
"ETC",
"ALGO",
"LEO",
"XLM",
"MANA",
"BTCB",
"VET",
"HBAR",
"ICP",
"FIL",
"EGLD",
"AXS",
"APE",
"SAND",
"XMR",
"FTM",
"THETA",
"WAVES",
"RUNE",
"XTZ",
"KLAY",
"ZEC",
"HNT",
"EOS",
"FLOW",
"MIOTA",
"AAVE",
"CAKE",
"GRT",
"MKR",
"BTT",
"ONE",
"STX",
"XEC",
"NEO",
"BSV",
"GALA",
"QNT",
"CVX",
"CHZ",
"ENJ",
"KCS",
"KSM",
"LRC",
"HT",
"CELO",
"DASH",
"OKB",
"TUSD",
"NEXO",
"BAT",
"ZIL",
"AR",
"CRV",
"HOT",
"KDA",
"MINA",
"AMP",
"XEM",
"TFUEL",
"ROSE",
"USDP",
"DCR",
"IOTX",
"XYM",
"QTUM",
"COMP",
"SCRT",
"YFI",
"SXP",
"CEL",
"USDN",
"BORA",
"BTG",
"OMG",
"XDC",
"RVN",
"GNO",
"ICX",
"ANKR",
"BNT",
"RENBTC",
"WAXP",
"KAVA",
"ANC",
"AUDIO",
"RNDR",
"PAXG",
"SNX",
"IOST",
"SC",
"LPT",
"ZRX",
"WOO",
"ZEN",
"VGX",
"GLMR",
"DGB",
"KNC",
"VLX",
"RLY",
"ONT",
"IMX",
"SKL",
"GLM",
"TEL",
"UMA",
"GT",
"STORJ",
"SUSHI",
"NFT",
"ELON",
"XDB",
"REV",
"TWT",
"GMT",
"HIVE",
"JST",
"CHSB",
"POLY",
"SYS",
"FEI"
        ]);
        map.insert("2022-05", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"SOL",
"LUNA",
"ADA",
"AVAX",
"UST",
"DOT",
"BUSD",
"DOGE",
"SHIB",
"WBTC",
"MATIC",
"NEAR",
"CRO",
"DAI",
"LTC",
"TRX",
"ATOM",
"LINK",
"UNI",
"BCH",
"FTT",
"LEO",
"APE",
"XLM",
"ALGO",
"XMR",
"ETC",
"MANA",
"FIL",
"ICP",
"HBAR",
"VET",
"EGLD",
"SAND",
"THETA",
"FTM",
"AXS",
"CAKE",
"XTZ",
"KLAY",
"RUNE",
"EOS",
"ZEC",
"AAVE",
"HNT",
"GMT",
"FLOW",
"KCS",
"WAVES",
"MIOTA",
"BTT",
"MKR",
"XEC",
"GRT",
"BSV",
"CVX",
"STX",
"HT",
"NEO",
"TUSD",
"ONE",
"KSM",
"ZIL",
"QNT",
"GALA",
"NEXO",
"CHZ",
"CELO",
"CRV",
"OKB",
"ENJ",
"LRC",
"BAT",
"DASH",
"MINA",
"USDP",
"USDN",
"AMP",
"KAVA",
"AR",
"DCR",
"COMP",
"TFUEL",
"XEM",
"KNC",
"KDA",
"HOT",
"GLMR",
"ROSE",
"AUDIO",
"ICX",
"SCRT",
"XDC",
"BORA",
"ZRX",
"SNX",
"IOTX",
"YFI",
"QTUM",
"ANC",
"OMG",
"PAXG",
"SKL",
"GNO",
"XYM",
"SRM",
"ANKR",
"SXP",
"BTG",
"BNT",
"ELON",
"IOST",
"LPT",
"WAXP",
"RVN",
"SC",
"CEL",
"GT",
"JST",
"FXS",
"ACA",
"ONT",
"RENBTC",
"WOO",
"ZEN",
"NFT",
"RNDR",
"SUSHI",
"CHSB",
"FEI",
"GLM",
"RLY",
"STORJ",
"IMX",
"UMA",
"VGX",
"REV",
"POLY",
"HIVE",
"VLX",
"BTRST",
"DGB",

        ]);
        map.insert("2022-06", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"XRP",
"BUSD",
"ADA",
"SOL",
"DOGE",
"DOT",
"WBTC",
"TRX",
"AVAX",
"DAI",
"SHIB",
"LEO",
"MATIC",
"LTC",
"CRO",
"FTT",
"NEAR",
"UNI",
"BCH",
"XMR",
"XLM",
"ETC",
"LINK",
"ATOM",
"ALGO",
"FLOW",
"VET",
"HBAR",
"APE",
"EGLD",
"MANA",
"XTZ",
"ICP",
"FIL",
"SAND",
"KCS",
"ZEC",
"AAVE",
"EOS",
"TUSD",
"KLAY",
"THETA",
"MKR",
"AXS",
"HT",
"BSV",
"GRT",
"BTT",
"USDP",
"FTM",
"XEC",
"MIOTA",
"RUNE",
"HNT",
"CAKE",
"USDN",
"QNT",
"NEO",
"OKB",
"NEXO",
"STX",
"CHZ",
"LRC",
"GMT",
"ZIL",
"DASH",
"PAXG",
"KSM",
"USDD",
"CVX",
"CELO",
"CRV",
"BAT",
"GALA",
"ENJ",
"ONE",
"XDC",
"AMP",
"GNO",
"DCR",
"WAVES",
"KAVA",
"MINA",
"AR",
"XEM",
"FEI",
"GT",
"HOT",
"COMP",
"QTUM",
"BTG",
"KDA",
"BORA",
"LDO",
"IOTX",
"OMG",
"GLMR",
"KNC",
"ICX",
"ZRX",
"ROSE",
"BNT",
"XYM",
"IOST",
"TFUEL",
"LPT",
"USTC",
"JST",
"ANKR",
"SNX",
"GUSD",
"RVN",
"AUDIO",
"SC",
"SRM",
"YFI",
"CHSB",
"ZEN",
"GLM",
"SCRT",
"ELON",
"ONT",
"IMX",
"SXP",
"SKL",
"WAXP",
"BTRST",
"NFT",
"STORJ",
"VGX",
"UMA",
"ENS",
"HIVE",
"POLY",
"MXC",
"RENBTC",
"PLA",
"CSPR",
"SUSHI",
"DGB",
"RNDR",
"TWT",
"ILV",
        ]);
        map.insert("2022-07", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"XRP",
"BUSD",
"ADA",
"SOL",
"DOGE",
"DOT",
"DAI",
"SHIB",
"TRX",
"LEO",
"AVAX",
"WBTC",
"MATIC",
"UNI",
"LTC",
"FTT",
"LINK",
"CRO",
"XLM",
"NEAR",
"ATOM",
"ALGO",
"ETC",
"XMR",
"BCH",
"VET",
"MANA",
"FLOW",
"SAND",
"HBAR",
"APE",
"ICP",
"THETA",
"AXS",
"FIL",
"XTZ",
"HNT",
"EGLD",
"TUSD",
"BSV",
"KCS",
"EOS",
"MKR",
"USDP",
"ZEC",
"AAVE",
"HT",
"BTT",
"MIOTA",
"USDN",
"XEC",
"OKB",
"GRT",
"QNT",
"RUNE",
"FTM",
"KLAY",
"USDD",
"NEO",
"WAVES",
"PAXG",
"ZIL",
"CHZ",
"BAT",
"GMT",
"LRC",
"DASH",
"STX",
"CAKE",
"ENJ",
"KSM",
"GALA",
"FEI",
"CELO",
"CRV",
"KAVA",
"HOT",
"AMP",
"MINA",
"XEM",
"NEXO",
"DCR",
"COMP",
"XDC",
"GT",
"AR",
"STORJ",
"GNO",
"KDA",
"QTUM",
"XYM",
"SNX",
"BORA",
"BTG",
"CVX",
"TFUEL",
"ONE",
"IOTX",
"ZRX",
"OMG",
"IOST",
"RVN",
"ICX",
"AUDIO",
"ROSE",
"KNC",
"ANKR",
"SRM",
"GLM",
"YFI",
"TWT",
"USTC",
"MXC",
"JST",
"LPT",
"GLMR",
"BAL",
"WOO",
"CHSB",
"WAXP",
"ONT",
"SC",
"SXP",
"ELON",
"SKL",
"IMX",
"LDO",
"CEL",
"ENS",
"ZEN",
"UMA",
"GUSD",
"HIVE",
"SCRT",
"POLY",
"CEEK",
"NFT",
"KEEP",
"XCH",
"PLA",
"BTRST",
"DGB",
"CSPR",
"SUSHI",
        ]);
        map.insert("2022-08", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"XRP",
"BUSD",
"ADA",
"SOL",
"DOGE",
"DOT",
"DAI",
"MATIC",
"AVAX",
"SHIB",
"TRX",
"UNI",
"WBTC",
"ETC",
"LEO",
"LTC",
"FTT",
"LINK",
"CRO",
"NEAR",
"ATOM",
"XLM",
"XMR",
"BCH",
"FIL",
"ALGO",
"ICP",
"APE",
"FLOW",
"VET",
"MANA",
"SAND",
"HBAR",
"XTZ",
"AXS",
"AAVE",
"THETA",
"EOS",
"EGLD",
"QNT",
"TUSD",
"BSV",
"HNT",
"OKB",
"MKR",
"KCS",
"ZEC",
"USDP",
"BTT",
"KLAY",
"GRT",
"MIOTA",
"RUNE",
"XEC",
"FTM",
"NEO",
"CHZ",
"USDD",
"USDN",
"HT",
"CRV",
"LDO",
"WAVES",
"PAXG",
"BAT",
"STX",
"CAKE",
"GMT",
"ZIL",
"LRC",
"DASH",
"ENJ",
"KSM",
"BTG",
"AR",
"CVX",
"MINA",
"CELO",
"KAVA",
"XEM",
"QTUM",
"ROSE",
"FEI",
"GNO",
"COMP",
"SNX",
"YFI",
"NEXO",
"GALA",
"DCR",
"HOT",
"RVN",
"TWT",
"AMP",
"OP",
"KDA",
"XDC",
"GT",
"USTC",
"BTCST",
"ZRX",
"TFUEL",
"IOTX",
"XYM",
"OMG",
"BORA",
"HIVE",
"ANKR",
"ICX",
"ENS",
"ONE",
"AUDIO",
"LPT",
"IOST",
"KNC",
"JST",
"GLMR",
"GLM",
"CEL",
"SRM",
"BAL",
"STORJ",
"IMX",
"PUNDIX",
"ZEN",
"ONT",
"WOO",
"SC",
"WAXP",
"SKL",
"SXP",
"BTRST",
"POLY",
"XCH",
"UMA",
"CHSB",
"ELON",
"CEEK",
"DGB",
"SLP",
"MXC",
"RNDR",
"SUSHI",
"CSPR",
        ]);
        map.insert("2022-09", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"BUSD",
"XRP",
"ADA",
"SOL",
"DOGE",
"DOT",
"DAI",
"MATIC",
"SHIB",
"TRX",
"AVAX",
"LEO",
"WBTC",
"UNI",
"ETC",
"LTC",
"FTT",
"LINK",
"ATOM",
"CRO",
"NEAR",
"XMR",
"XLM",
"BCH",
"ALGO",
"FLOW",
"VET",
"ICP",
"FIL",
"APE",
"EOS",
"MANA",
"SAND",
"HBAR",
"XTZ",
"CHZ",
"EGLD",
"QNT",
"AAVE",
"TUSD",
"THETA",
"AXS",
"BSV",
"USDP",
"OKB",
"ZEC",
"XEC",
"KCS",
"BTT",
"MIOTA",
"HT",
"USDD",
"MKR",
"HNT",
"KLAY",
"SNX",
"GRT",
"USDN",
"FTM",
"NEO",
"RUNE",
"PAXG",
"CAKE",
"CRV",
"NEXO",
"LDO",
"BAT",
"DASH",
"STX",
"WAVES",
"ZIL",
"LRC",
"ENJ",
"MINA",
"FEI",
"KAVA",
"DCR",
"BTG",
"XEM",
"TWT",
"GMT",
"KSM",
"GNO",
"CELO",
"HOT",
"GALA",
"ANKR",
"AR",
"GT",
"CVX",
"XDC",
"COMP",
"GUSD",
"QTUM",
"YFI",
"KDA",
"ROSE",
"TFUEL",
"IOTX",
"KNC",
"RVN",
"BORA",
"CEL",
"AMP",
"FLUX",
"XYM",
"ZRX",
"BAL",
"OP",
"OMG",
"JST",
"ICX",
"RSR",
"USTC",
"GLM",
"ONE",
"IOST",
"HIVE",
"LPT",
"ENS",
"AUDIO",
"STORJ",
"WAXP",
"ONT",
"SC",
"SRM",
"GLMR",
"ZEN",
"SCRT",
"MXC",
"IMX",
"UMA",
"XCH",
"SXP",
"ABBC",
"BTRST",
"POLY",
"SKL",
"SLP",
"CHSB",
"CSPR",
"WOO",
"NFT",
"DAO",
        ]);
        map.insert("2022-10", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"XRP",
"BUSD",
"ADA",
"SOL",
"DOGE",
"DOT",
"DAI",
"MATIC",
"SHIB",
"TRX",
"AVAX",
"WBTC",
"UNI",
"ATOM",
"LEO",
"ETC",
"LINK",
"LTC",
"FTT",
"XLM",
"CRO",
"NEAR",
"ALGO",
"XMR",
"BCH",
"APE",
"FLOW",
"FIL",
"VET",
"TON",
"ICP",
"CHZ",
"QNT",
"HBAR",
"XTZ",
"MANA",
"SAND",
"LUNC",
"EOS",
"THETA",
"EGLD",
"TUSD",
"AAVE",
"AXS",
"USDP",
"BSV",
"OKB",
"KCS",
"ZEC",
"XEC",
"MIOTA",
"BTT",
"USDD",
"GRT",
"MKR",
"HT",
"CAKE",
"USDN",
"KLAY",
"NEO",
"HNT",
"FTM",
"SNX",
"PAXG",
"RUNE",
"NEXO",
"LDO",
"CRV",
"ENJ",
"GT",
"DASH",
"BAT",
"COMP",
"RVN",
"STX",
"WAVES",
"FEI",
"ZIL",
"MINA",
"LRC",
"TWT",
"KAVA",
"GMT",
"XDC",
"BTG",
"CELO",
"XEM",
"DCR",
"HOT",
"CEL",
"KSM",
"RSR",
"BNX",
"CVX",
"AR",
"GNO",
"ROSE",
"GUSD",
"BTRST",
"YFI",
"QTUM",
"TFUEL",
"ANKR",
"GALA",
"LUNA",
"KDA",
"USTC",
"ENS",
"IOTX",
"GLM",
"FLUX",
"OMG",
"ONE",
"BAL",
"LPT",
"ZRX",
"BORA",
"IOST",
"HIVE",
"JST",
"ICX",
"OP",
"XYM",
"KNC",
"AMP",
"SRM",
"VGX",
"POLY",
"ONT",
"STORJ",
"WAXP",
"GLMR",
"SC",
"ZEN",
"XCH",
"CSPR",
"AUDIO",
"IMX",
"SXP",
"ABBC",
"MXC",
"UMA",
"CHSB",
"SCRT",
        ]);
        map.insert("2022-11", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"BUSD",
"DOGE",
"ADA",
"SOL",
"MATIC",
"DOT",
"SHIB",
"DAI",
"TRX",
"AVAX",
"UNI",
"WBTC",
"LEO",
"ATOM",
"LTC",
"LINK",
"FTT",
"ETC",
"CRO",
"XLM",
"XMR",
"NEAR",
"ALGO",
"BCH",
"QNT",
"TON",
"FLOW",
"VET",
"FIL",
"LUNC",
"APE",
"ICP",
"HBAR",
"EGLD",
"CHZ",
"HT",
"SAND",
"XTZ",
"MANA",
"AAVE",
"THETA",
"EOS",
"XCN",
"APT",
"KCS",
"OKB",
"USDP",
"BSV",
"BIT",
"MKR",
"AXS",
"KLAY",
"ZEC",
"TUSD",
"BTT",
"SNX",
"XEC",
"ETHW",
"MIOTA",
"USDD",
"CAKE",
"USDN",
"NEO",
"FTM",
"GRT",
"NEXO",
"PAXG",
"HNT",
"RUNE",
"MINA",
"GT",
"TWT",
"LDO",
"CRV",
"DASH",
"ENJ",
"KAVA",
"BAT",
"CSPR",
"STX",
"FEI",
"ZIL",
"BNX",
"DCR",
"USTC",
"WAVES",
"XDC",
"RVN",
"CVX",
"LRC",
"COMP",
"HOT",
"XEM",
"ENS",
"AR",
"GUSD",
"CELO",
"GNO",
"GMT",
"LUNA",
"TFUEL",
"ROSE",
"KSM",
"BTG",
"GALA",
"BAL",
"YFI",
"QTUM",
"ANKR",
"IOTX",
"GLM",
"RSR",
"JST",
"KDA",
"OP",
"ONE",
"POLY",
"OMG",
"LPT",
"ABBC",
"CEL",
"T",
"SUSHI",
"ICX",
"FLUX",
"ELON",
"WOO",
"ZRX",
"HIVE",
"IOST",
"CHSB",
"XYM",
"RBN",
"GLMR",
"BTRST",
"AMP",
"SRM",
"BORA",
"ONT",
"WAXP",
"XCH",
"STORJ",
"ZEN",

        ]);
        map.insert("2022-12", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"BUSD",
"XRP",
"DOGE",
"ADA",
"MATIC",
"DOT",
"DAI",
"LTC",
"SOL",
"SHIB",
"TRX",
"UNI",
"LEO",
"AVAX",
"WBTC",
"LINK",
"ATOM",
"ETC",
"XMR",
"XLM",
"BCH",
"TON",
"ALGO",
"CRO",
"FIL",
"QNT",
"APE",
"VET",
"NEAR",
"OKB",
"FLOW",
"HBAR",
"HT",
"ICP",
"CHZ",
"EGLD",
"EOS",
"LUNC",
"THETA",
"USDP",
"XTZ",
"XCN",
"AAVE",
"SAND",
"TWT",
"TUSD",
"BSV",
"MANA",
"USDD",
"KCS",
"AXS",
"ZEC",
"BTT",
"USDN",
"MKR",
"APT",
"BIT",
"GUSD",
"CAKE",
"MIOTA",
"PAXG",
"XEC",
"KLAY",
"SNX",
"NEO",
"FTM",
"DASH",
"GRT",
"MINA",
"FEI",
"BNX",
"GT",
"RUNE",
"NEXO",
"CRV",
"CELO",
"ETHW",
"GMX",
"BAT",
"LDO",
"HNT",
"CSPR",
"STX",
"LRC",
"ZIL",
"AR",
"CVX",
"ENJ",
"IMX",
"XDC",
"XEM",
"DCR",
"OSMO",
"KAVA",
"HOT",
"BAL",
"COMP",
"ENS",
"ROSE",
"RVN",
"TFUEL",
"BTG",
"WAVES",
"CHSB",
"GMT",
"YFI",
"QTUM",
"KSM",
"GLM",
"GNO",
"ANKR",
"IOTX",
"OP",
"MASK",
"USTC",
"LUNA",
"KDA",
"JST",
"POLY",
"LPT",
"ONE",
"XYM",
"GALA",
"XCH",
"RSR",
"ABBC",
"HIVE",
"GLMR",
"OMG",
"SUSHI",
"ZRX",
"IOST",
"ONT",
"ELON",
"ICX",
"T",
"ASTR",
"AMP",
"FLUX",
"BORA",
"AUDIO",
"WOO",
"STORJ",
"SC",
        ]);
        map.insert("2023-01", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"USDC",
"BNB",
"XRP",
"BUSD",
"DOGE",
"ADA",
"MATIC",
"DAI",
"DOT",
"TRX",
"LTC",
"SHIB",
"SOL",
"UNI",
"AVAX",
"LEO",
"WBTC",
"LINK",
"TON",
"XMR",
"ATOM",
"ETC",
"BCH",
"XLM",
"CRO",
"OKB",
"APE",
"QNT",
"ALGO",
"VET",
"NEAR",
"HBAR",
"ICP",
"FIL",
"EOS",
"USDP",
"LUNC",
"BSV",
"HT",
"EGLD",
"FLOW",
"AAVE",
"THETA",
"TUSD",
"XTZ",
"USDD",
"AXS",
"CHZ",
"SAND",
"KCS",
"ZEC",
"MANA",
"BTT",
"GUSD",
"BIT",
"TWT",
"FTM",
"CAKE",
"MKR",
"KLAY",
"GRT",
"DASH",
"PAXG",
"MIOTA",
"APT",
"XEC",
"RUNE",
"NEO",
"FEI",
"GMX",
"SNX",
"GT",
"MINA",
"OSMO",
"NEXO",
"USDN",
"XCN",
"FXS",
"XDC",
"ETHW",
"IMX",
"STX",
"LDO",
"CSPR",
"DCR",
"ZIL",
"BAT",
"CRV",
"LRC",
"XEM",
"ENJ",
"CVX",
"HNT",
"HOT",
"BAL",
"KAVA",
"CELO",
"RVN",
"COMP",
"BTG",
"GNO",
"ENS",
"OP",
"TFUEL",
"KSM",
"AR",
"CHSB",
"SUSHI",
"USTC",
"QTUM",
"ROSE",
"YFI",
"BNX",
"GLM",
"KDA",
"JST",
"IOTX",
"XCH",
"XYM",
"WAVES",
"GMT",
"ANKR",
"GLMR",
"LUNA",
"ELON",
"MASK",
"LPT",
"ASTR",
"HIVE",
"ONE",
"POLY",
"OMG",
"JASMY",
"ZRX",
"WOO",
"ONT",
"ICX",
"AMP",
"FLUX",
"T",
"IOST",
"BONE",
"GALA",
"RSR",
"SFP",
"SC",
        ]);
        map.insert("2023-02", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"BUSD",
"ADA",
"DOGE",
"MATIC",
"SOL",
"DOT",
"LTC",
"SHIB",
"AVAX",
"TRX",
"DAI",
"UNI",
"WBTC",
"ATOM",
"LINK",
"LEO",
"XMR",
"ETC",
"TON",
"APT",
"BCH",
"XLM",
"OKB",
"APE",
"NEAR",
"CRO",
"FIL",
"LDO",
"ALGO",
"QNT",
"VET",
"ICP",
"HBAR",
"MANA",
"FTM",
"AAVE",
"AXS",
"BIT",
"EOS",
"SAND",
"FLOW",
"EGLD",
"THETA",
"XTZ",
"LUNC",
"CHZ",
"TUSD",
"USDP",
"BSV",
"GRT",
"HT",
"KCS",
"FXS",
"ZEC",
"CRV",
"XEC",
"TWT",
"USDD",
"BTT",
"CAKE",
"MIOTA",
"MKR",
"KLAY",
"DASH",
"MINA",
"RUNE",
"SNX",
"GUSD",
"NEO",
"OP",
"IMX",
"GMX",
"PAXG",
"OSMO",
"NEXO",
"ENJ",
"ZIL",
"GT",
"CVX",
"LUNA",
"LRC",
"FEI",
"ETHW",
"GALA",
"RPL",
"COMP",
"KAVA",
"HNT",
"BAT",
"STX",
"T",
"CSPR",
"HOT",
"CELO",
"RVN",
"GMT",
"XDC",
"AR",
"DYDX",
"XEM",
"DCR",
"TFUEL",
"ROSE",
"BAL",
"RNDR",
"ENS",
"MAGIC",
"KSM",
"WOO",
"BTG",
"ONE",
"SUSHI",
"XCH",
"WAVES",
"KDA",
"GNO",
"AUDIO",
"IOTX",
"QTUM",
"YFI",
"GLMR",
"ANKR",
"XYM",
"FLUX",
"JASMY",
"XCN",
"BNX",
"GLM",
"JST",
"CHSB",
"FET",
"OCEAN",
"ASTR",
"BONE",
"USDN",
"AGIX",
"USTC",
"MASK",
"OMG",
"ICX",
"LPT",
"AMP",
"ZRX",
        ]);
        map.insert("2023-03", vec![
                                    "1INCH",
            "BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"ADA",
"MATIC",
"BUSD",
"DOGE",
"SOL",
"DOT",
"SHIB",
"LTC",
"TRX",
"AVAX",
"DAI",
"UNI",
"WBTC",
"LINK",
"ATOM",
"LEO",
"OKB",
"ETC",
"TON",
"XMR",
"FIL",
"BCH",
"LDO",
"XLM",
"VET",
"APT",
"NEAR",
"CRO",
"HBAR",
"APE",
"ALGO",
"ICP",
"QNT",
"GRT",
"FTM",
"FLOW",
"EGLD",
"THETA",
"MANA",
"BIT",
"EOS",
"AAVE",
"XTZ",
"AXS",
"SAND",
"STX",
"TUSD",
"LUNC",
"RPL",
"KLAY",
"CHZ",
"NEO",
"USDP",
"HT",
"KCS",
"DASH",
"MINA",
"IMX",
"BSV",
"FXS",
"CAKE",
"MKR",
"CRV",
"ZEC",
"USDD",
"OP",
"MIOTA",
"XEC",
"BTT",
"SNX",
"GMX",
"CFX",
"GUSD",
"GT",
"TWT",
"RUNE",
"ZIL",
"AGIX",
"LRC",
"ENJ",
"PAXG",
"OSMO",
"FLR",
"BAT",
"DYDX",
"SSV",
"BONE",
"CVX",
"FEI",
"ANKR",
"CSPR",
"ETHW",
"BNX",
"NEXO",
"ROSE",
"CELO",
"XEM",
"LUNA",
"RVN",
"BNX",
"RNDR",
"TFUEL",
"HNT",
"COMP",
"KAVA",
"XDC",
"WOO",
"YFI",
"HOT",
"DCR",
"QTUM",
"FET",
"MAGIC",
"MOB",
"AR",
"AUDIO",
"BAL",
"BLUR",
"T",
"ASTR",
"ENS",
"KSM",
"BTG",
"SUSHI",
"JASMY",
"ONE",
"GALA",
"WAVES",
"GNO",
"USTC",
"GLM",
"INJ",
"IOTX",
"JST",
"GLMR",
"XCH",
"MASK",
"KDA",
"AMP",
"OCEAN",
"BAND",
"OMG",
"ICX",

        ]);
        map.insert("2023-04", vec![
                                    "1INCH",
"BTC",
"ETH",
"USDT",
"BNB",
"USDC",
"XRP",
"ADA",
"MATIC",
"DOGE",
"SOL",
"DOT",
"LTC",
"SHIB",
"TRX",
"AVAX",
"DAI",
"WBTC",
"LINK",
"LEO",
"ATOM",
"XMR",
"ETC",
"UNI",
"TON",
"OKB",
"XLM",
"BCH",
"FIL",
"APT",
"TUSD",
"HBAR",
"LDO",
"CRO",
"NEAR",
"ARB",
"VET",
"APE",
"ALGO",
"ICP",
"QNT",
"STX",
"GRT",
"FTM",
"EOS",
"BIT",
"MANA",
"EGLD",
"XTZ",
"AAVE",
"THETA",
"FLOW",
"AXS",
"IMX",
"SAND",
"CFX",
"USDP",
"NEO",
"KCS",
"RPL",
"CHZ",
"LUNC",
"USDD",
"OP",
"MINA",
"BSV",
"KLAY",
"CRV",
"CAKE",
"DASH",
"MKR",
"SNX",
"GUSD",
"HT",
"GMX",
"ZEC",
"XEC",
"MIOTA",
"BTT",
"FXS",
"XDC",
"GT",
"PAXG",
"AGIX",
"TWT",
"LRC",
"MASK",
"RUNE",
"RNDR",
"ZIL",
"NEXO",
"FLR",
"FEI",
"KAVA",
"OSMO",
"ENJ",
"CVX",
"CSPR",
"SSV",
"DYDX",
"BAT",
"ETHW",
"T",
"XEM",
"BAL",
"ROSE",
"QTUM",
"WOO",
"FLOKI",
"RVN",
"ANKR",
"TFUEL",
"LUNA",
"HOT",
"DCR",
"COMP",
"YFI",
"MAGIC",
"FET",
"CELO",
"INJ",
"KSM",
"MOB",
"GNO",
"GALA",
"AR",
"BTG",
"LN",
"ONE",
"ASTR",
"AUDIO",
"ENS",
"XCH",
"OMG",
"BONE",
"WAVES",
"GLM",
"IOTX",
"SUSHI",
"GMT",
"DAO",
"JST",
"GLMR",
"BLUR",
"JASMY",
"USTC",
"BAND",
"OCEAN",
"SC",

        ]);

        map
    };
}

//use serde_derive::Deserialize;
//use serde_derive::Serialize;
//use serde_json::Value;
#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Root {
    pub status: Status,
    pub data: Vec<Daum>,
}

#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Status {
    pub timestamp: String,
    #[serde(rename = "error_code")]
    pub error_code: i64,
    #[serde(rename = "error_message")]
    pub error_message: Option<String>,
    pub elapsed: i64,
    #[serde(rename = "credit_count")]
    pub credit_count: i64,
    pub notice: Option<String>,
    #[serde(rename = "total_count")]
    pub total_count: i64,
}

#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Daum {
    pub id: i64,
    pub name: String,
    pub symbol: String,
    pub slug: String,
    #[serde(rename = "num_market_pairs")]
    pub num_market_pairs: i64,
    #[serde(rename = "date_added")]
    pub date_added: String,
    pub tags: Vec<String>,
    #[serde(rename = "max_supply")]
    pub max_supply: Option<i64>,
    #[serde(rename = "circulating_supply")]
    pub circulating_supply: f64,
    #[serde(rename = "total_supply")]
    pub total_supply: f64,
    #[serde(rename = "infinite_supply")]
    pub infinite_supply: bool,
    pub platform: Option<Platform>,
    #[serde(rename = "cmc_rank")]
    pub cmc_rank: i64,
    #[serde(rename = "self_reported_circulating_supply")]
    pub self_reported_circulating_supply: Option<f64>,
    #[serde(rename = "self_reported_market_cap")]
    pub self_reported_market_cap: Option<f64>,
    #[serde(rename = "tvl_ratio")]
    pub tvl_ratio: Option<f64>,
    #[serde(rename = "last_updated")]
    pub last_updated: String,
    pub quote: Quote,
}

#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Platform {
    pub id: i64,
    pub name: String,
    pub symbol: String,
    pub slug: String,
    #[serde(rename = "token_address")]
    pub token_address: String,
}

#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Quote {
    #[serde(rename = "USD")]
    pub usd: Usd,
}

#[derive(Default, Debug, Clone, PartialEq, Serialize, Deserialize)]
#[serde(rename_all = "camelCase")]
pub struct Usd {
    pub price: f64,
    #[serde(rename = "volume_24h")]
    pub volume_24h: f64,
    #[serde(rename = "volume_change_24h")]
    pub volume_change_24h: f64,
    #[serde(rename = "percent_change_1h")]
    pub percent_change_1h: f64,
    #[serde(rename = "percent_change_24h")]
    pub percent_change_24h: f64,
    #[serde(rename = "percent_change_7d")]
    pub percent_change_7d: f64,
    #[serde(rename = "percent_change_30d")]
    pub percent_change_30d: f64,
    #[serde(rename = "percent_change_60d")]
    pub percent_change_60d: f64,
    #[serde(rename = "percent_change_90d")]
    pub percent_change_90d: f64,
    #[serde(rename = "market_cap")]
    pub market_cap: f64,
    #[serde(rename = "market_cap_dominance")]
    pub market_cap_dominance: f64,
    #[serde(rename = "fully_diluted_market_cap")]
    pub fully_diluted_market_cap: f64,
    pub tvl: Option<f64>,
    #[serde(rename = "last_updated")]
    pub last_updated: String,
}


pub async fn market_cap_list(limit: u32) -> Vec<String> {
    let mut headers = HeaderMap::new();
    headers.insert(
        HeaderName::from_static("x-cmc_pro_api_key"),
        HeaderValue::from_static("92e6f509-4ef9-4ee1-8e54-4e3a732df2e9"),
    );

    let request_parameter = format!("limit={}", limit);
    let url = format!(
        "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?{}",
        request_parameter
    );
    let client = reqwest::Client::new();
    let res = client
        .get(url)
        .headers(headers)
        .send()
        .await
        .unwrap()
        .json::<Root>()
        .await
        .unwrap();
    res.data.iter().map(|x| format!("{}USDT", x.symbol)).collect()
}
pub fn get_market_cap_list_by_month(month: &str) -> Vec<String> {
    MY_MAP.get(month)
        .unwrap()
        .iter()
        .map(|&symbol| symbol.to_string() + "USDT")
        .take(100)
        .collect()
}
